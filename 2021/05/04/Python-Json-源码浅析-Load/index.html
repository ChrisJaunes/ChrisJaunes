<!DOCTYPE html>
<html lang="en" >
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="description" content="欢迎来的ChrisJaunes的世界">
	<meta name="keywords" content="chrisjaunes">
	<title>Python-Json-源码浅析-Load - ChrisJaunes</title>
	
	<link rel="shortcut icon" href="/ChrisJaunes/imgs/avatar.jpg"/>
	
<link rel="stylesheet" href="/ChrisJaunes/css/style.css">

	
<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<meta name="generator" content="Hexo 5.3.0"></head>
<body>
	<div class="main-con">
<nav class="nav cl">
    <ul class="cl nav-list">
        <li>
            <a href="/ChrisJaunes/" class="">
                <i class="fa fa-home"></i> 
                <span>主页</span>
            </a>
        </li>
        <li>
            <a href="/ChrisJaunes/archives/" class="">
                <i class=" fa-"></i> 
                <span>归档</span>
            </a>
        </li>
        <li>
            <a href="javascript:void(0)" class="">
                <i class=" fa-"></i> 
                <span>关于</span>
                <span class="drop-flag fa fa-angle-down"></span>
            </a>
            <dl>
                <li>
                    <a href="/ChrisJaunes/about" class="">
                    <i class=" fa-"></i>
                    <span>关于本站</span>
                    </a>
                </li>
            </dl>
        </li>
    </ul>
    <ul class="cl nav-tool">
        <li>
            <a target="_blank" rel="noopener" href="https://github.com/ChrisJaunes">
                <i class="fa fa-github"></i>
            </a>
        </li>
        <li>
            <a href="mailto:judgehuang@tencent.com">
                <i class="fa fa-envelope"></i>
            </a>
        </li>
        <li>
            <a href="javascript:void(0)" class="nav-search-btn">
                <i class="fa fa-search"></i>
            </a>
        </li>
    </ul>
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="nav-search"><input type="search" name="q" class="nav-search-input" placeholder="search..."><input type="hidden" name="sitesearch" value="https://chrisjaunes.github.io"></form>
</nav>

        
<div class="con-wrap fadeToTop">
    <section class="article-area">
        
<article class="article">
    <div class="article-wrap">
        <h2 class="article-title cl">
            <a href="/ChrisJaunes/2021/05/04/Python-Json-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90-Load/" title="Python-Json-源码浅析-Load">
                Python-Json-源码浅析-Load
            </a>
        </h2>
        <ul class="article-extra" style="margin-bottom: 20px">
            <li class="article-time">
                2021-05-04
            </li> 
            <li class="article-category">
                <ol class="category-list cl">
                    <i class="fa fa-folder-o"></i>
                        <li><a href="/categories/Python/">Python</a></li>
                </ol>
            </li>
        </ul>
        <div class="article-description">
            <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1><span id="load">Load</span><a href="#load" class="header-anchor"> </a></h1>
<h2><span id="gai-yao">概要</span><a href="#gai-yao" class="header-anchor"> </a></h2>
<p>JSON 是一个轻量的数据交换格式</p>
<p>关于JSON的使用，参考 <a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-json.html">https://www.runoob.com/python/python-json.html</a></p>
<p>本文浅析了Python的Json库实现，其分析代码依照CPython的Lib库</p>
<p>分析源码位于:<a target="_blank" rel="noopener" href="https://github.com/python/cpython/tree/main/Lib/json">github</a></p>
<h2><span id="load-zhong-she-ji-de-han-shu">Load 中涉及的函数</span><a href="#load-zhong-she-ji-de-han-shu" class="header-anchor"> </a></h2>
<h3><span id="load-shi-xu-tu">Load 时序图</span><a href="#load-shi-xu-tu" class="header-anchor"> </a></h3>
<style> 
img{
    background-color: wheat;
    opacity : 1 !important;
}
</style>
<p>解析JSON字符串默认流程</p>
<img src="http://www.plantuml.com/plantuml/svg/hLHDInmn6BxFhmYU5Am_m4FnuCb3U_2wCCIP5CRkPfR9hB8NiVJ3qYgAgElM8XL55t4_K931STaVqsHczbyqcSmccJrKABqbRzxdUTxtVLwoH48OX8rQrO9Ew0UWGL1WrNd8Sxmwn26OgVbkeuh0El5n1ODt7ZzlsRQ7lT2s5-fD4MjW1rHzwCu0IFB3FpCGHK5Uv72Huxiea0nE5H82LbRVlbcMuGchpCffvV4_yGPmqpQuzVL5Vk90ZClyzQPTW--HNJnDDCJLzh4Z9TJD4YQ1Lw_pEO55aFLZjdyYQanETcZyQ0allGqO8cb6dbQa4v4_l4k-7eXyrcsbTzSqkhTSLCQKD4X9H870B0c3tziVrfeX8e0lZpZ0883DkQaIY2LfE9ySaY0SV4oFEjdDPN9-mDgTzCSd-SHsXidne8B7yMdMkrBloMdVSC7WBwPUy785RGLNOJyx0WOA78swVBY5qE2BPATnpBvTqAUhD6uRFce98sYGSobbYUf7HMGRsUWikzYLCfEMQFGqvVU2GbLmDchpLcbqEsvrsUvdemhjlvQTge4EHxo6yVOX6nxIwFkulPVsMid3iImWtv1Vp-nvdmzRMrzYAmqFPACZTdOEPlsrzNc0i3jdxeckPsegskA_mSr9QwnQDmdbI1DJvAjbofUqbBp4PVXlzWS0">
<h3><span id="load-han-shu">Load函数</span><a href="#load-han-shu" class="header-anchor"> </a></h3>
<p>json.load 用于解码 存有JSON数据的文件</p>
<p>源代码位于 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/__init__.py#L274">github</a></p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load</span>(<span class="hljs-params">fp, *, cls=<span class="hljs-literal">None</span>, object_hook=<span class="hljs-literal">None</span>, parse_float=<span class="hljs-literal">None</span>,</span></span>
<span class="hljs-function"><span class="hljs-params">        parse_int=<span class="hljs-literal">None</span>, parse_constant=<span class="hljs-literal">None</span>, object_pairs_hook=<span class="hljs-literal">None</span>, **kw</span>):</span>
    <span class="hljs-keyword">return</span> loads(fp.read(),
        cls=cls, object_hook=object_hook,
        parse_float=parse_float, parse_int=parse_int,
        parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)</code></pre>
<p>这个函数读取文件fp，然后将解析fp.read()的任务交给了loads</p>
<h3><span id="loads-han-shu">Loads函数</span><a href="#loads-han-shu" class="header-anchor"> </a></h3>
<p>json.loads 用于解码 JSON 数据。该函数返回 Python 字段的数据类型。</p>
<p>源代码位于 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/__init__.py#L299">github</a></p>
<p>Loads 要接受一个需要解析的对象s，这个对象的类型可以是str，也可以是bytes或者bytearray</p>
<img src="http://www.plantuml.com/plantuml/svg/qz3ILD3LjLDGUhgavVc4jXVB6byiN_niteJdirgUhj_vOkD29Iwkp3G5fMAWmFEDkv_EwtusOtrnIP6IGab6QXwNWe9kJcfQYQvTT4bHQMgiWjApnGtFvYy5gdawOTdBzlRdKrOysTKM6kAcQw7WvE_xVC-qvmiQbK3QW7Q2pNswf-7faYrFstSzxzi0L1eJKvgMcfO6DnxJWgxPGCLUmVv-Bgd9-IcfhaL5-KLFzpGztR43P6vgNafc6bTgJd4gn9Bej4GW6-umX3TG787mtFH5JtRqAYHLbgGMAppPEH_80Ve5p4yiAagiH7PNKMPw1eR3GYeBC9m4SGogSu21M_nY_-mN2tk0uGqD4wZRGIG0">
<p>如果就提供了s一个参数，使用默认的解析器_default_decoder，调用_default_decoder.decode(s)</p>
<p>否则构造解析器：</p>
<p>如果没有提供解析器类，则使用JSONDecoder作为解析器类，否则使用自定义的解析器， 自定义解析器要是JSONDecoder的子类。</p>
<p>消耗参数cls，其余参数当作解析器类的构造参数提供， 其余参数在py_make_scanner会进行介绍</p>
<p>特别注释: The <code>encoding</code> argument is ignored and deprecated.</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">loads</span>(<span class="hljs-params">s, *, cls=<span class="hljs-literal">None</span>, object_hook=<span class="hljs-literal">None</span>, parse_float=<span class="hljs-literal">None</span>,</span></span>
<span class="hljs-function"><span class="hljs-params">        parse_int=<span class="hljs-literal">None</span>, parse_constant=<span class="hljs-literal">None</span>, object_pairs_hook=<span class="hljs-literal">None</span>, **kw</span>):</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(s, <span class="hljs-built_in">str</span>):
        <span class="hljs-keyword">if</span> s.startswith(<span class="hljs-string">&#x27;\ufeff&#x27;</span>):
            <span class="hljs-keyword">raise</span> JSONDecodeError(<span class="hljs-string">&quot;Unexpected UTF-8 BOM (decode using utf-8-sig)&quot;</span>,
                                  s, <span class="hljs-number">0</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(s, (<span class="hljs-built_in">bytes</span>, <span class="hljs-built_in">bytearray</span>)):
            <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">f&#x27;the JSON object must be str, bytes or bytearray, &#x27;</span>
                            <span class="hljs-string">f&#x27;not <span class="hljs-subst">&#123;s.__class__.__name__&#125;</span>&#x27;</span>)
        s = s.decode(detect_encoding(s), <span class="hljs-string">&#x27;surrogatepass&#x27;</span>)

    <span class="hljs-keyword">if</span> (cls <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> object_hook <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span>
            parse_int <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> parse_float <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span>
            parse_constant <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> object_pairs_hook <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> kw):
        <span class="hljs-keyword">return</span> _default_decoder.decode(s)
    <span class="hljs-keyword">if</span> cls <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
        cls = JSONDecoder
    <span class="hljs-keyword">if</span> object_hook <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        kw[<span class="hljs-string">&#x27;object_hook&#x27;</span>] = object_hook
    <span class="hljs-keyword">if</span> object_pairs_hook <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        kw[<span class="hljs-string">&#x27;object_pairs_hook&#x27;</span>] = object_pairs_hook
    <span class="hljs-keyword">if</span> parse_float <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        kw[<span class="hljs-string">&#x27;parse_float&#x27;</span>] = parse_float
    <span class="hljs-keyword">if</span> parse_int <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        kw[<span class="hljs-string">&#x27;parse_int&#x27;</span>] = parse_int
    <span class="hljs-keyword">if</span> parse_constant <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        kw[<span class="hljs-string">&#x27;parse_constant&#x27;</span>] = parse_constant
    <span class="hljs-keyword">return</span> cls(**kw).decode(s)</code></pre>
<h3><span id="decode-han-shu">decode函数</span><a href="#decode-han-shu" class="header-anchor"> </a></h3>
<p>decode是JSONDecoder类的成员方法</p>
<p>源代码位于 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L332">github</a></p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JSONDecoder</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span>
    ...
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decode</span>(<span class="hljs-params">self, s, _w=WHITESPACE.match</span>):</span>
        obj, end = self.raw_decode(s, idx=_w(s, <span class="hljs-number">0</span>).end())
        end = _w(s, end).end()
        <span class="hljs-keyword">if</span> end != <span class="hljs-built_in">len</span>(s):
            <span class="hljs-keyword">raise</span> JSONDecodeError(<span class="hljs-string">&quot;Extra data&quot;</span>, s, end)
        <span class="hljs-keyword">return</span> obj</code></pre>
<p>decode把解析任务交给了raw_decode方法</p>
<h3><span id="raw-decode-han-shu">raw_decode函数</span><a href="#raw-decode-han-shu" class="header-anchor"> </a></h3>
<p>raw_decode是JSONDecoder类的成员方法</p>
<p>源代码位于 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L343">github</a></p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JSONDecoder</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">raw_decode</span>(<span class="hljs-params">self, s, idx=<span class="hljs-number">0</span></span>):</span>
        <span class="hljs-keyword">try</span>:
            obj, end = self.scan_once(s, idx)
        <span class="hljs-keyword">except</span> StopIteration <span class="hljs-keyword">as</span> err:
            <span class="hljs-keyword">raise</span> JSONDecodeError(<span class="hljs-string">&quot;Expecting value&quot;</span>, s, err.value) <span class="hljs-keyword">from</span> <span class="hljs-literal">None</span>
        <span class="hljs-keyword">return</span> obj, end</code></pre>
<p>raw_decode把解析任务交给了scan_once函数</p>
<p>scan_once是scanner.make_scanner(self)</p>
<h3><span id="make-scanner-fang-fa">make_scanner方法</span><a href="#make-scanner-fang-fa" class="header-anchor"> </a></h3>
<p>make_scanner是scanner文件中的函数</p>
<p>源代码位于 <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/scanner.py#L73">github</a></p>
<pre><code class="hljs python">make_scanner = c_make_scanner <span class="hljs-keyword">or</span> py_make_scanner</code></pre>
<p>make_scanner实际指向c_make_scanner 或者 py_make_scanner</p>
<p>c_make_scanner采用的c语言编写，源代码<a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Modules/_json.c">github</a></p>
<p>py_make_scanner采用python语言编写，源代码<a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/scanner.py#L15">github</a></p>
<p>这两俩才是真正进行对JSON字符串解析的，为了分析这两个，需要进一步了解JSON格式文法</p>
<h2><span id="json-ge-shi-wen-fa">JSON 格式文法</span><a href="#json-ge-shi-wen-fa" class="header-anchor"> </a></h2>
<h3><span id="json-wen-fa">JSON 文法</span><a href="#json-wen-fa" class="header-anchor"> </a></h3>
<p><em>JSON</em> -&gt; <strong>true</strong> | <strong>false</strong> | <strong>null</strong> | <em>number</em> | <em>str</em> | <em>JSONArray</em> | <em>JSONObject</em></p>
<p><em>JSONObject</em> -&gt; <strong>{</strong> <em>ObjectMembers</em> <strong>}</strong></p>
<p><em>ObjectMembers</em> -&gt; <em>Members</em> | <strong>ε</strong></p>
<p><em>Members</em> -&gt; <em>Member</em> <em>A</em></p>
<p><em>A</em> -&gt; <strong>,</strong> <em>Member</em> |<strong>ε</strong></p>
<p><em>Member</em> -&gt; <em>Key</em> <strong>:</strong> <em>Value</em></p>
<p><em>Key</em> -&gt; <em>str</em></p>
<p><em>Value</em> -&gt; <em>JSON</em></p>
<p><em>JSONArray</em> -&gt; <strong>[</strong> <em>ArrayElements</em> <strong>]</strong></p>
<p><em>ArrayElements</em> -&gt; <em>Elements</em> | <strong>ε</strong></p>
<p><em>Elements</em> -&gt; <em>Element</em> <em>B</em></p>
<p><em>B</em> -&gt; <strong>,</strong> <em>Element</em> | <strong>ε</strong></p>
<p><em>Element</em> -&gt; <em>JSON</em></p>
<h3><span id="bian-xie-json-jie-xi-qi">编写JSON解析器</span><a href="#bian-xie-json-jie-xi-qi" class="header-anchor"> </a></h3>
<h3><span id="scan-once-han-shu">_scan_once 函数</span><a href="#scan-once-han-shu" class="header-anchor"> </a></h3>
<p>这是一个闭包, 其自由变量位于py_make_scanner中</p>
<p>parse_object = context.parse_object = JSONDecoder中的parse_object = JSONObject，<br>
JSONObject位于<a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L136">github</a></p>
<p>parse_array = context.parse_array = JSONDecoder中的parse_array = JSONArray，<br>
JSONArray位于<a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L217">github</a></p>
<p>parse_string = context.parse_string = JSONDecoder中的parse_string = scanstring，<br>
scanstring位于<a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L69">github</a></p>
<p>match_number = NUMBER_RE.match = re.compile(r’(-?(?:0|[1-9]\d*))(.\d+)?([eE][-+]?\d+)?', (re.VERBOSE | re.MULTILINE | re.DOTALL))</p>
<p>strict = context.strict = JSONDecoder中的strict = True or loads中kw存有strict参数</p>
<p>parse_float = context.parse_float = JSONDecoder中的parse_float = float or (parse_float = loads 中的 parse_float)</p>
<p>parse_int = context.parse_int = JSONDecoder中的parse_int = int or (parse_int = loads 中的 parse_int)</p>
<p>parse_constant = context.parse_constant = JSONDecoder中的parse_constant = _CONSTANTS.__getitem__ or (parse_constant = loads 中的 parse_constant)</p>
<p>object_hook = context.object_hook= JSONDecoder中的object_hook = object_hook = loads 中的 object_hook</p>
<p>object_pairs_hook = context.object_pairs_hook= JSONDecoder中的object_pairs_hook = object_pairs_hook = loads 中的 object_pairs_hook</p>
<p>memo = context.memo= JSONDecoder中的memo = {}</p>
<p>采用了递归下降分析法</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_scan_once</span>(<span class="hljs-params">string, idx</span>):</span>
    <span class="hljs-keyword">try</span>:
        nextchar = string[idx]
    <span class="hljs-keyword">except</span> IndexError:
        <span class="hljs-keyword">raise</span> StopIteration(idx) <span class="hljs-keyword">from</span> <span class="hljs-literal">None</span>

    <span class="hljs-keyword">if</span> nextchar == <span class="hljs-string">&#x27;&quot;&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_string(string, idx + <span class="hljs-number">1</span>, strict)
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;&#123;&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_object((string, idx + <span class="hljs-number">1</span>), strict,
            _scan_once, object_hook, object_pairs_hook, memo)
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;[&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_array((string, idx + <span class="hljs-number">1</span>), _scan_once)
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;n&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;null&#x27;</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, idx + <span class="hljs-number">4</span>
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;t&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;true&#x27;</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, idx + <span class="hljs-number">4</span>
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;f&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">5</span>] == <span class="hljs-string">&#x27;false&#x27;</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, idx + <span class="hljs-number">5</span>

    m = match_number(string, idx)
    <span class="hljs-keyword">if</span> m <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
        integer, frac, exp = m.groups()
        <span class="hljs-keyword">if</span> frac <span class="hljs-keyword">or</span> exp:
            res = parse_float(integer + (frac <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;&#x27;</span>) + (exp <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;&#x27;</span>))
        <span class="hljs-keyword">else</span>:
            res = parse_int(integer)
        <span class="hljs-keyword">return</span> res, m.end()
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;N&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">3</span>] == <span class="hljs-string">&#x27;NaN&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_constant(<span class="hljs-string">&#x27;NaN&#x27;</span>), idx + <span class="hljs-number">3</span>
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;I&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">8</span>] == <span class="hljs-string">&#x27;Infinity&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_constant(<span class="hljs-string">&#x27;Infinity&#x27;</span>), idx + <span class="hljs-number">8</span>
    <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;-&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">9</span>] == <span class="hljs-string">&#x27;-Infinity&#x27;</span>:
        <span class="hljs-keyword">return</span> parse_constant(<span class="hljs-string">&#x27;-Infinity&#x27;</span>), idx + <span class="hljs-number">9</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">raise</span> StopIteration(idx)</code></pre>
<h3><span id="parse-string-han-shu">parse_string 函数</span><a href="#parse-string-han-shu" class="header-anchor"> </a></h3>
<p>parse_string函数默认是c_scanstring 或者 py_scanstring 函数</p>
<p>这两个都是用来解析字符串的，c_scanstring采用c语言编写，py_scanstring采用python语言编写。</p>
<p>下面讨论py_scanstring函数， 源代码位于: <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L69">github</a></p>
<p>py_scanstring使用了正则表达式 ，其中：</p>
<pre><code class="hljs python">_m = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;(.*?)([&quot;\\\x00-\x1f])&#x27;</span>, re.VERBOSE | re.MULTILINE | re.DOTALL)</code></pre>
<p>代表匹配以&quot; \ \x00-\x1f结尾的最小字符串。groups会返回捕获的分组，这里设置了两个分组, 因此terminator会获得第二个分组的信息</p>
<p>然后</p>
<img src="http://www.plantuml.com/plantuml/svg/RLBFJnD16Btth_ZSKskeYHvDu0GN3tZmA0rPsodT0BFDTFTU5MI3bdAmA1L3IGDKqaAYYOouoZ-ptspzBvpPsL-ax65cTlTzxtllVLDyM89oUG6CV-t-z7P7J8Re7QBV5PtUTEyQzptnenVsjz1x5_xUMg5GRRXq7UPXTRFOcWD2QoMZODN14DzFfc__w2hXxUFkSGgsMh1iKsA0qo2q051crbh3AI-yT9XBAh9qzmlkt3nxyNnvaLJj6bbYp6Relq7EZGBPQ15GHH9VD-MBB43lM_XnjCPijzbI8hi7kc-gSmuSmZOjQZes2_o-mlpz58x7mSs7W5zaNcpg4EhaqT9P9FgHPYzATw3paIPZ_5DODPjDQRqOVuX0AWGGmxOuFitenEUhW7VaYduFkzTf1BCXF8PNZ9ZhYYcnh3arPKeazixH-ncEpoGTI0yvwG_cOKK-aEioqqSn1lnK37mnEf5ZrbY8mREodiIo4aIcxGuwcKmIJAQg5ALcKPSO2GMjMVL2GfR8J4W0RxVnigyYwtR4mP7uEgY07dB0tmUyhGOuaSCyYolloSYzaq1EflvT0RdZqIXj8FbmcmTyec-YldevmncHv8W83BpwvL9BtTRf-J0Sl3Roc2o7QiDafNkCnoUzH-j_">
<h3><span id="jsonobject-han-shu">JSONObject 函数</span><a href="#jsonobject-han-shu" class="header-anchor"> </a></h3>
<p>parse_object函数默认是 JSONObject 函数</p>
<p>下面讨论JSONObject函数， 源代码位于: <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L136">github</a></p>
<p>在JSONObject中 跳过 空格、制表、回车、换行等空白字符是有必要的， 采用正则表达式来完成上述操作。</p>
<p>JSONObject的key 必须是string, 其原因可以参考 <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/9304528/why-json-allows-only-string-to-be-a-key">stackoverflow</a></p>
<p>根据文法<br>
<em>JSONObject</em> -&gt; <strong>{</strong> <em>ObjectMembers</em> <strong>}</strong></p>
<p><em>ObjectMembers</em> -&gt; <em>Members</em> | <strong>ε</strong></p>
<p>处理JSONObject = {} 的情况</p>
<img src="http://www.plantuml.com/plantuml/svg/qz3ILD3LjLDGCbHuqRVzQV-q9pkwd-neUB9ZrTErqv-lMQR4bPcce8Gc-6H7xvCTkvxkcVgqVxkIGab6QXwN0jWKB6gVpLZ_VEMkvpFtGis3AGTgACfCpoZHjOikAIfDZLLGUjamwyN-zcTh5p_jcFbYuOeN-_OztTF_Oljce22A2H3D83VZS35SNXS8GDpKdE9Kc6XqMYAG5uiacPUIcORN_K3l0idQPzrhaFsBv06WBD30fqjQdazeUxfpsulzKvxEdlTyz-Hdy-QWMu_N2hGGHR818W-o1AHaujCzJKztx5020000">
<p>根据文法</p>
<p><em>Member</em> -&gt; <em>Key</em> <strong>:</strong> <em>Value</em></p>
<p><em>Key</em> -&gt; <em>str</em></p>
<p><em>Value</em> -&gt; <em>JSON</em> | <strong>null</strong></p>
<img src="http://www.plantuml.com/plantuml/svg/qz3ILD3LjLDGUj6t_Md_D8Nir4g5c3mGfQEGcfUYOAjGd9oOLrnIb9cNhb4C5jDH076JIpILkC0w3HLURD_yOd_xyvMxdi_S-tJjzEThbYbnPQOfA3tPqVraHyEJ7QiWWizch7-oenT8AbWfA2cKPAJcSIaew1PbfcUKwDf5GwHYGUOztJFrQV_4ftkQdkxOeU0LxE_dafgSdvBgMbIKNwJ4bPfJd0hI2BBR28lT2aemMOYVoX9pIbD1dW8paBqLdv-Nd0hrbIP2cp5M3oaeuFLIBS9BI9w2-2YfA3Kn6sG2rEa4ZDB1PX8yU8m810z85zmUi8-Whi3kAOAk0Tks7Sb9s1nbJ8IZ5431d9d6XSo2q60I0000">
<p>如果 object_pairs_hook 不为空， 利用 object_pairs_hook 对于 pairs 进行处理</p>
<p>object_pairs_hook 接受一个 list 对象， 其中list的每一个元素是一个tuple</p>
<p>以下给一个demo:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, li</span>):</span>
        self.li = li

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[Test object_pairs_hook] : &quot;</span> + self.li.__str__()


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span>():</span>
    t = json.loads(<span class="hljs-string">&#x27;&#123;&quot;123&quot;: 234&#125;&#x27;</span>, object_pairs_hook=Test)
    print(t)
    print(<span class="hljs-built_in">type</span>(t))</code></pre>
<p>如果 object_hook 不为空， 利用 object_hook 对于dict(pairs) 进行处理</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, di</span>):</span>
        self.di = di

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[Test object_pairs_hook] : &quot;</span> + self.di.__str__()


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test</span>():</span>
    t = json.loads(<span class="hljs-string">&#x27;&#123;&quot;123&quot;: 234&#125;&#x27;</span>, object_hook=Test)
    print(t)
    print(<span class="hljs-built_in">type</span>(t))</code></pre>
<h3><span id="jsonarray-han-shu">JSONArray 函数</span><a href="#jsonarray-han-shu" class="header-anchor"> </a></h3>
<p>parse_array函数默认是 JSONArray 函数</p>
<p>下面讨论 JSONArray 函数， 源代码位于: <a target="_blank" rel="noopener" href="https://github.com/python/cpython/blob/main/Lib/json/decoder.py#L217">github</a></p>
<p>根据文法</p>
<p><em>JSONArray</em> -&gt; <strong>[</strong> <em>ArrayElements</em> <strong>]</strong></p>
<p><em>ArrayElements</em> -&gt; <em>Elements</em> | <strong>ε</strong></p>
<p><em>Elements</em> -&gt; <em>Element</em> <em>B</em></p>
<p><em>B</em> -&gt; <strong>,</strong> <em>Element</em> | <strong>ε</strong></p>
<p><em>Element</em> -&gt; <em>JSON</em></p>
<p>先判断是不是空的list, 利用正则表达式跳过空白字符</p>
<p>不断调用scan_once获取 <em>JSON</em></p>
<h3><span id="pan-duan-null-true-false">判断null、true、false</span><a href="#pan-duan-null-true-false" class="header-anchor"> </a></h3>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_scan_once</span>(<span class="hljs-params">string, idx</span>):</span>
  ...
  <span class="hljs-keyword">if</span> nextchar == <span class="hljs-string">&#x27;n&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;null&#x27;</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, idx + <span class="hljs-number">4</span>
  <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;t&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">4</span>] == <span class="hljs-string">&#x27;true&#x27;</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>, idx + <span class="hljs-number">4</span>
  <span class="hljs-keyword">elif</span> nextchar == <span class="hljs-string">&#x27;f&#x27;</span> <span class="hljs-keyword">and</span> string[idx:idx + <span class="hljs-number">5</span>] == <span class="hljs-string">&#x27;false&#x27;</span>:
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, idx + <span class="hljs-number">5</span></code></pre>
<h3><span id="chu-li-shu-zi">处理数字</span><a href="#chu-li-shu-zi" class="header-anchor"> </a></h3>
<p>利用正则表达式进行匹配</p>
<pre><code class="hljs python">NUMBER_RE = re.<span class="hljs-built_in">compile</span>(
    <span class="hljs-string">r&#x27;(-?(?:0|[1-9]\d*))(\.\d+)?([eE][-+]?\d+)?&#x27;</span>,
    (re.VERBOSE | re.MULTILINE | re.DOTALL))</code></pre>
<p>然后利用groups()获取分组，根据分组情况转成int或者float, 如果无法转换，检查是否是NaN、Infinity、-Infinity</p>
<link rel="stylesheet" href="/ChrisJaunes/css/spoiler.css" type="text/css"><script src="/ChrisJaunes/js/spoiler.js" type="text/javascript" async></script>
        </div>
        <div class="article-tags">
            <ul class="tags-list cl">
                <li><a href="/ChrisJaunes/tags/Python/"><i class="fa fa-tag"></i>Python</a></li>
            </ul>
        </div>
        <div class="article-pagination cl">
            <div class="pagination-prev">
                <a href="/ChrisJaunes/2021/05/20/python-docx-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90-%E5%88%9B%E5%BB%BADocument/">上一篇：python-docx-源码浅析-创建Document</a>
            </div>
            <div class="pagination-next">
                <a href="/ChrisJaunes/2021/04/25/%E6%A0%87%E5%87%86%E5%BA%93-%E5%AE%B9%E5%99%A8%E6%B5%85%E6%9E%90-2-%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8/">下一篇：标准库-容器浅析-2-C++顺序容器</a>
            </div>
        </div> 
        
            <link rel="stylesheet" href="https://unpkg.com/gitalk@latest/dist/gitalk.css">
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<script src="https://priesttomb.github.io/js/md5.min.js"></script>
<div id="gitalk-container"></div>
<script type="text/javascript">
    new Gitalk({
        clientID: '0ba2ec4192b1d2fb9cb6',
        clientSecret: '85deadc0e6ed5bdf825a822ab2fdfbad69401fb9',
        repo: 'ChrisJaunes',
        owner: 'ChrisJaunes',
        admin: 'ChrisJaunes',
        id: md5(location.pathname),
        distractionFreeMode: true,
        proxy: 'https://vercel.prohibitorum.top/github_access_token'
    }).render('gitalk-container')
</script>
        
    </div>

</article>
    </section>
        
<section class="tool-area">

    <div class="toolbar">
        

        
        <div class="widget-post widget" style="order: 1 ">
            <h2 class="widget-title"><i class="fa fa-file-text"></i> Recent articles</h2>
            <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2023/05/25/TaskFlow-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90-Executor%E7%B1%BB/">TaskFlow-源码浅析-Executor类</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2023/02/20/python-mock-%E7%94%A8%E6%B3%95%E6%B5%85%E6%9E%90-%E6%9B%BF%E6%8D%A2%E8%A2%AB%E6%B5%8B%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9F%90%E4%BA%9B%E9%83%A8%E5%88%86/">python-mock-用法浅析-替换被测系统的某些部分</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/09/05/DRF-ModelSerializer-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90-%E5%BA%8F%E5%88%97%E5%8C%96/">DRF-ModelSerializer-源码浅析-序列化</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/08/02/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-mock%E6%B5%85%E6%9E%90-1-%E6%A6%82%E8%BF%B0/">单元测试-mock浅析-1-概述</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/04/26/ZooKeeper-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9B%B8%E5%85%B3/">ZooKeeper-源码浅析-数据模型相关</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/04/25/ZooKeeper-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/">ZooKeeper-数据模型</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/04/25/ZooKeeper-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">ZooKeeper-环境搭建</a></li><li class="post-list-item"><a class="post-list-link" href="/ChrisJaunes/2022/04/02/D3-Format-%E6%BA%90%E7%A0%81%E6%B5%85%E6%9E%90/">D3-Format-源码浅析</a></li></ul>
        </div>
        

        
        <div class="widget-tags widget" style="order: 2 ">
            <h2 class="widget-title"><i class="fa fa-tags"></i> Tag</h2>
            <a href="/ChrisJaunes/tags/Blockly/" style="font-size: 14px;">Blockly</a> <a href="/ChrisJaunes/tags/C/" style="font-size: 14px;">C++</a> <a href="/ChrisJaunes/tags/D3/" style="font-size: 10px;">D3</a> <a href="/ChrisJaunes/tags/Http/" style="font-size: 16px;">Http</a> <a href="/ChrisJaunes/tags/HttpServer/" style="font-size: 16px;">HttpServer</a> <a href="/ChrisJaunes/tags/Java/" style="font-size: 20px;">Java</a> <a href="/ChrisJaunes/tags/Jupyter/" style="font-size: 12px;">Jupyter</a> <a href="/ChrisJaunes/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/ChrisJaunes/tags/Mock/" style="font-size: 10px;">Mock</a> <a href="/ChrisJaunes/tags/Net/" style="font-size: 12px;">Net</a> <a href="/ChrisJaunes/tags/Presto/" style="font-size: 12px;">Presto</a> <a href="/ChrisJaunes/tags/Python/" style="font-size: 18px;">Python</a> <a href="/ChrisJaunes/tags/Servlet/" style="font-size: 12px;">Servlet</a> <a href="/ChrisJaunes/tags/Skulpt/" style="font-size: 10px;">Skulpt</a> <a href="/ChrisJaunes/tags/Sql%E8%A7%A3%E6%9E%90/" style="font-size: 12px;">Sql解析</a> <a href="/ChrisJaunes/tags/TaskFlow/" style="font-size: 10px;">TaskFlow</a> <a href="/ChrisJaunes/tags/TensorFlow/" style="font-size: 10px;">TensorFlow</a> <a href="/ChrisJaunes/tags/ZooKeeper/" style="font-size: 14px;">ZooKeeper</a> <a href="/ChrisJaunes/tags/container/" style="font-size: 10px;">container</a> <a href="/ChrisJaunes/tags/django/" style="font-size: 10px;">django</a> <a href="/ChrisJaunes/tags/metakernel/" style="font-size: 10px;">metakernel</a> <a href="/ChrisJaunes/tags/python/" style="font-size: 10px;">python</a> <a href="/ChrisJaunes/tags/test/" style="font-size: 10px;">test</a> <a href="/ChrisJaunes/tags/web/" style="font-size: 10px;">web</a> <a href="/ChrisJaunes/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 14px;">分布式</a> <a href="/ChrisJaunes/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">单元测试</a> <a href="/ChrisJaunes/tags/%E5%BA%8F%E5%88%97%E5%8C%96/" style="font-size: 10px;">序列化</a>
        </div>
        

        
            <div class="widget-categories widget" style="order: 3 ">
                <h2 class="widget-title"><i class="fa fa-folder-open"></i> Categories</h2>
                 <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Blockly/">Blockly</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Blockly/BlocklyJupyter/">BlocklyJupyter</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/C/">C++</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/C/%E6%A0%87%E5%87%86%E5%BA%93/">标准库</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/D3/">D3</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Java/">Java</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Java/Http/">Http</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Java/Http/HttpServer/">HttpServer</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Java/Servlet/">Servlet</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Presto/">Presto</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Presto/SqlParser/">SqlParser</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Python/">Python</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Python/Docx/">Docx</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Python/Json/">Json</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Python/Mock/">Mock</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Python/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">内置函数</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/Skulpt/">Skulpt</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/TaskFlow/">TaskFlow</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/TensorFlow/">TensorFlow</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/TensorFlow/env/">env</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/django/">django</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/programing-language/">programing_language</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/programing-language/%E6%AF%94%E8%BE%83%E5%AD%A6%E4%B9%A0/">比较学习</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/%E5%88%86%E5%B8%83%E5%BC%8F/ZooKeeper/">ZooKeeper</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/ChrisJaunes/categories/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">单元测试</a><span class="category-list-count">1</span></li></ul> 
            </div>         
        
    </div>
</section>
</div>


<footer class="footer">
	<p class="footer-intro">
		
		@2023 ChrisJaunes.
	</p>
	<p class="footer-intro">
			Powered By <a href="https://github.com/ChrisJaunes" target="_blank"> ChrisJaunes </a> |
			Hexo Powered By <a href="https://hexo.io/zh-cn/" target="_blank">hexo</a> |
			Theme Powered by ChrisJaunes 
	</p>
	<p class="footer-intro">
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次 &nbsp;|&nbsp;</span>
		<span id="busuanzi_container_site_uv">访客数<span id="busuanzi_value_site_uv"></span>人次&nbsp;|&nbsp;</span>
		<span id="busuanzi_container_page_pv">本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span>
	</p>
</footer>




<div class="extend-tools" id="extend-tools" style="display: none;">
    <ul>
        <li class="tools-returnTop" title="Back to top"><i class="fa fa-angle-double-up"></i></li>
    </ul>
</div>

	</div>


<script src="/ChrisJaunes/js/org/jquery.min.js"></script>


<script src="/ChrisJaunes/js/extend.js"></script>

</body>
</html>